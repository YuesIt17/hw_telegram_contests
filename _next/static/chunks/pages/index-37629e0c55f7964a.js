(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7744:function(t){"use strict";t.exports={mockDataChart:{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",37,20,32,39,32,35,19,65,36,62,113,69,120,60,51,49,71,122,149,69,57,21,33,55,92,62,47,50,56,116,63,60,55,65,76,33,45,64,54,81,180,123,106,37,60,70,46,68,46,51,33,57,75,70,95,70,50,68,63,66,53,38,52,109,121,53,36,71,96,55,58,29,31,55,52,44,126,191,73,87,255,278,219,170,129,125,126,84,65,53,154,57,71,64,75,72,39,47,52,73,89,156,86,105,88,45,33,56,142,124,114,64],["y1",22,12,30,40,33,23,18,41,45,69,57,61,70,47,31,34,40,55,27,57,48,32,40,49,54,49,34,51,51,51,66,51,94,60,64,28,44,96,49,73,30,88,63,42,56,67,52,67,35,61,40,55,63,61,105,59,51,76,63,57,47,56,51,98,103,62,54,104,48,41,41,37,30,28,26,37,65,86,70,81,54,74,70,50,74,79,85,62,36,46,68,43,66,50,28,66,39,23,63,74,83,66,40,60,29,36,27,54,89,50,73,52]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"Joined",y1:"Left"},colors:{y0:"#3DC23F",y1:"#F34C44"}}}},6964:function(t,e,n){"use strict";n.d(e,{g:function(){return I},r:function(){return R}});var r=n(7294),a=n(633),o=n(1018),i=n(2875),l=n(7685),c=n(7270);var s={name:"s1n8ed",styles:"height:100vh"},u=n(917),f=(0,r.memo)((function(){var t={page:s},e=function(){var t=(0,i.TH)(),e=(0,i.s0)(),n=(0,c.E)().login,a=(0,r.useState)(""),o=(0,l.Z)(a,2),s=o[0],u=o[1],f=d().isVisiblePageHello;return{onLoginHandler:(0,r.useCallback)((function(){if(n&&s){var r=t.state;n(s),e(f?"/hw_telegram_contests/hello":(null===r||void 0===r?void 0:r.from)||"/hw_telegram_contests/")}}),[n,s,t.state,f]),onChangeHandler:(0,r.useCallback)((function(t){u(t.target.value)}),[])}}(),n=e.onLoginHandler,o=e.onChangeHandler;return(0,u.tZ)(a.l1,{title:"Authorization",buttonText:"Login",buttonHandler:n,style:t.page},(0,u.tZ)(a.II,{onChange:o,placeholder:"User name"}))}));f.displayName="Auth";var p=(0,r.memo)((function(){var t=(0,a.Eu)(),e=t.userName,n=t.logout;return(0,u.tZ)(r.Fragment,null,(0,u.tZ)("h3",{"data-testid":"userName"},e),(0,u.tZ)(a.zx,{variant:"outlined",onClick:n},"Logout"))}));p.displayName="AuthActions";var d=function(){var t=(0,i.s0)(),e=localStorage.getItem("visiblePageHello");return(0,r.useEffect)((function(){e||localStorage.setItem("visiblePageHello","true")}),[e]),{isVisiblePageHello:(0,r.useMemo)((function(){return"true"===e}),[e]),onHidePageHello:(0,r.useCallback)((function(){localStorage.setItem("visiblePageHello","false"),t("/hw_telegram_contests/")}),[t])}};var h={name:"1r4cs9p",styles:"text-align:center;width:500px;line-height:24px"},m=function(){var t={content:h},e=d().onHidePageHello;return(0,u.tZ)(a.l1,{title:"Hello!",buttonText:"Go",buttonHandler:e},(0,u.tZ)("div",{css:t.content},"Welcome to the Project Telegram contest chart."))};var v={name:"1r4cs9p",styles:"text-align:center;width:500px;line-height:24px"},b=function(){var t={page:v},e=(0,i.s0)(),n=(0,r.useCallback)((function(){e("/hw_telegram_contests/")}),[e]);return(0,u.tZ)(a.l1,{title:"Error 404",buttonText:"Go back to main",buttonHandler:n},(0,u.tZ)("div",{css:t.page},"The requested page was not found, the page may have been deleted, \n        moved to another location, or an error was made when entering the address."))},g=function(t){var e=t.children,n=(0,c.E)().isUserAuthorization,a=(0,i.TH)();return n?r.Children.only(e):(0,u.tZ)(i.Fg,{to:"/hw_telegram_contests/auth",state:{from:a},replace:!0})},y=r.lazy((function(){return Promise.resolve().then(n.bind(n,3911))})),Z=function(){var t=d().isVisiblePageHello;return(0,u.tZ)(g,null,(0,u.tZ)(a.Ar,{actions:(0,u.tZ)(p,null)},(0,u.tZ)(i.Z5,null,(0,u.tZ)(i.AW,{index:!0,element:(0,u.tZ)(r.Suspense,{fallback:(0,u.tZ)("div",null)},(0,u.tZ)(y,null))}),t&&(0,u.tZ)(i.AW,{path:"/hello",element:(0,u.tZ)(m,null)}),(0,u.tZ)(i.AW,{path:"/*",element:(0,u.tZ)(b,null)}))))},x=function(){var t=(0,a.Eu)().isUserAuthorization;return(0,u.tZ)(o.VK,null,(0,u.tZ)(i.Z5,null,(0,u.tZ)(i.AW,{path:"/",element:(0,u.tZ)(i.Fg,{to:"/hw_telegram_contests"})}),!t&&(0,u.tZ)(i.AW,{path:"/hw_telegram_contests/auth",element:(0,u.tZ)(f,null)}),(0,u.tZ)(i.AW,{path:"/hw_telegram_contests/*",element:(0,u.tZ)(Z,null)})))},O=n(3663),C=n(9473),w=n(5700),k=n(1201),P=n(4942),j=n(3911),D=n(5217);function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var A=function(){return(0,D.UY)(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){(0,P.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},j.chartReducer))},H=n(4902),E=n(7757),X=n.n(E),Y=n(6699),V=X().mark(N),_=(0,H.Z)(j.chartSagas);function N(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Y.$6)(_.map((function(t){return t()})));case 2:case"end":return t.stop()}}),V)}var T=function(){var t=A(),e=(0,k.ZP)(),n=[e],r=(0,w.xC)({reducer:t,middleware:function(t){return t().prepend(n)}});return e.run(N),r}();var z="#ffffff",R={name:"main",colors:{primary:{light:"#e3f2fd",main:"#1976d2",dark:"#1565c0"},secondary:{light:z,main:"#fafafa",dark:"#bdbdbd"},font:{dark:"#424242"}},paper:{backgroundColor:z}},M={name:"1o1js1e",styles:"body{margin:0;}"},I=function(){return(0,u.tZ)(C.zt,{store:T},(0,u.tZ)(O.b,{theme:R},(0,u.tZ)(u.xB,{styles:M}),(0,u.tZ)("div",{css:function(t){return t.paper}},(0,u.tZ)(c.H,null,(0,u.tZ)(x,null)))))}},7270:function(t,e,n){"use strict";n.d(e,{H:function(){return c},E:function(){return l}});var r=n(7685),a=n(7294),o=n(917),i=(0,a.createContext)({}),l=function(){return(0,a.useContext)(i)},c=function(t){var e=t.children,n=(0,a.useState)((function(){return localStorage.getItem("userName")||""})),l=(0,r.Z)(n,2),c=l[0],s=l[1];(0,a.useEffect)((function(){c?localStorage.setItem("userName",c):localStorage.removeItem("userName")}),[c]);var u=(0,a.useCallback)((function(t){s(t)}),[]),f=(0,a.useCallback)((function(){s("")}),[]),p={userName:c,isUserAuthorization:!!c,login:u,logout:f};return(0,o.tZ)(i.Provider,{value:p},e)}},633:function(t,e,n){"use strict";n.d(e,{zx:function(){return i},Jg:function(){return p},II:function(){return d},Ar:function(){return m},l1:function(){return b},Eu:function(){return r.E}});var r=n(7270),a=n(7294),o=n(917),i=function(t){var e=t.children,n=t.onClick,r=t.variant,a=function(t){var e=t.variant;return{button:function(t){return(0,o.iv)({backgroundColor:"primary"===e?t.colors.primary.main:t.colors.secondary.light,color:"primary"===e?t.colors.secondary.light:t.colors.primary.main,border:"1px solid ".concat(t.colors.primary.main),borderRadius:4,padding:"4px 12px",fontSize:14,minWidth:64,textTransform:"uppercase",cursor:"pointer",lineHeight:1.75,"&:hover":{backgroundColor:"primary"===e?t.colors.primary.dark:t.colors.secondary.main}},"","")}}}({variant:void 0===r?"primary":r});return(0,o.tZ)("button",{css:a.button,type:"button",onClick:n},e)},l=n(6964);function c(t){var e=t.fill,n=t.stroke,r=t.width,a=t.height;return(0,o.tZ)("svg",{viewBox:"0 0 24 24",fill:e,width:r,height:a},(0,o.tZ)("circle",{cx:"12",cy:"12",r:"11",fill:"transparent",stroke:n,strokeWidth:2}),(0,o.tZ)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))}var s=n(7685);var u={name:"157xhr7",styles:"width:16px;height:16px"},f=function(){return{button:function(t){return(0,o.iv)({background:"transparent",border:"1px solid ".concat(t.colors.secondary.dark),borderRadius:24,alignItems:"center",display:"flex",padding:6},"","")},icon:u,label:function(t){return(0,o.iv)({padding:"0 8px",fontSize:12,color:t.colors.font.dark},"","")}}};function p(t){var e=t.label,n=t.name,r=t.value,i=t.color,u=t.onChange,p=f(),d=function(t){var e=t.name,n=t.value,r=t.onChange,o=(0,a.useState)({name:e,value:n}),i=(0,s.Z)(o,2),l=i[0],c=i[1],u=(0,a.useCallback)((function(){var t={name:e,value:!l.value};c(t),r&&r(t)}),[e,l.value,r]);return{field:l,onClickHandler:u}}({name:n,value:r,onChange:u}),h=d.field,m=d.onClickHandler,v=i||l.r.colors.primary.dark,b=h.value?v:"transparent";return(0,o.tZ)("button",{css:p.button,onClick:m,"data-testid":n},(0,o.tZ)("div",{css:p.icon},(0,o.tZ)(c,{fill:b,stroke:v})),(0,o.tZ)("div",{css:p.label},e))}var d=function(t){var e=t.onChange,n=t.placeholder,r={input:function(t){return(0,o.iv)({border:"1px solid ".concat(t.colors.secondary.dark),borderRadius:4,padding:"14px 12px",outline:0},"","")}};return(0,o.tZ)("input",{css:r.input,onChange:e,placeholder:n})};var h={name:"1ht9gs8",styles:"height:calc(100vh - 65px)"},m=(0,a.memo)((function(t){var e=t.actions,n=t.children,r={header:function(t){return(0,o.iv)({display:"flex",justifyContent:"flex-end",borderBottom:"1px solid ".concat(t.colors.secondary.dark),height:64},"","")},actions:function(t){return(0,o.iv)({display:"flex",alignItems:"center",padding:"0 26px",columnGap:26,color:t.colors.primary.main},"","")},main:h};return(0,o.tZ)("div",null,(0,o.tZ)("header",{css:r.header},(0,o.tZ)("div",{css:r.actions},e)),(0,o.tZ)("main",{css:r.main},n))}));m.displayName="Layout";var v={name:"1k6141t",styles:"margin:16px 0"},b=function(t){var e=t.children,n=t.title,r=void 0===n?"":n,a=t.buttonText,l=t.buttonHandler,c=t.style,s={page:function(t){return(0,o.iv)({display:"grid",justifyContent:"center",alignContent:"center",rowGap:10,justifyItems:"center",height:"100%",backgroundColor:t.colors.secondary.main},"","")},content:v};return(0,o.tZ)("div",{css:function(t){return[s.page(t),c]},"data-testid":r.toLowerCase()},(0,o.tZ)("h3",null,r),(0,o.tZ)("div",{css:s.content},e),a&&l&&(0,o.tZ)(i,{variant:"primary",onClick:l},a))}},3911:function(t,e,n){"use strict";n.r(e),n.d(e,{chartReducer:function(){return Ht},chartSagas:function(){return Et},default:function(){return At}});var r=n(4942),a="telegramChart",o="chartData",i="chartLine",l=n(5217),c=n(5700);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f,p=(0,c.oM)({name:"".concat(a,".").concat(o),initialState:{result:{columns:[],colors:{},names:{},types:{}},errors:""},reducers:{setAll:function(t,e){var n=e.payload;return u(u({},t),{},{result:(null===n||void 0===n?void 0:n.result)||t.result})},setError:function(t,e){var n=e.payload;return u(u({},t),{},{errors:(null===n||void 0===n?void 0:n.errors)||""})}}}),d=p.reducer,h=p.actions,m=n(4902),v=n(6486),b=(0,c.oM)({name:"".concat(a,".").concat(i),initialState:[],reducers:{setAll:function(t,e){var n=e.payload;return(0,v.isArray)(n)?(0,m.Z)(n):t},updateOne:function(t,e){var n=e.payload;if(!(0,v.isArray)(n)&&null!==n&&void 0!==n&&n.name){var r=(0,v.filter)(t,(function(t){return t.name!==n.name})),a=[].concat((0,m.Z)(r),[n]);return(0,v.sortBy)(a,[function(t){return null===t||void 0===t?void 0:t.name}])}}}}),g=b.actions,y=g.setAll,Z=g.updateOne,x=b.reducer,O=(0,l.UY)((f={},(0,r.Z)(f,o,d),(0,r.Z)(f,i,x),f)),C=n(7757),w=n.n(C),k=(n(5861),n(5671)),P=n(3144),j=n(7744),D=n(6699),S=(0,c.PH)("".concat(a,"/").concat(o,"/GET_DATA")),A=w().mark(E),H=w().mark(X);function E(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=7;break;case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=j.mockDataChart;case 8:return t=e.t0,e.next=11,(0,D.gz)(h.setAll({result:t}));case 11:e.next=17;break;case 13:return e.prev=13,e.t1=e.catch(0),e.next=17,(0,D.gz)(h.setError({errors:"Error in getChartDataSaga: ".concat(e.t1.message)}));case 17:case"end":return e.stop()}}),A,null,[[0,13]])}function X(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.Fm)(S,E);case 2:case"end":return t.stop()}}),H)}var Y=n(7294),V=n(633),_=n(917),N=function(t){var e=t.width;return{chart:(0,_.iv)({width:e,padding:"20px 0",alignSelf:"flex-start"},"","")}},T=n(5987),z=n(4506),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return(0,v.join)(t,e)};function M(t,e,n){var r=t.toString().length,a=new Array(r).fill(1).join("");return Math.round(Number(t)/Number(a)+e*n)}var I=v.flowRight,L=["values"],U=["points"];function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F=function(t,e){return(0,v.map)(t,(function(t){var n=t.x,r=e?Math.round(t.y/e):t.y;return"".concat(n,",").concat(r)}))};function G(t){var e=function(t){var e=[],n=[],r=t.types,a=t.names,o=t.colors;return(0,v.forEach)(t.columns,(function(t){var i=(0,z.Z)(t),l=i[0],c=i.slice(1),s={values:(0,m.Z)(c),type:r[l],name:a[l],color:o[l]};"x"===l?e=s.values:n.push(s)})),{dataValuesX:e,columnDataY:n}}(t),n=e.dataValuesX,r=e.columnDataY,a=function(t){var e=[],n=[],r=0;if((null===t||void 0===t?void 0:t.length)>0){r=M((0,v.max)(t.map((function(t){return Number(t)})))||0,t.length,5);var a=(0,v.round)(r/60),o=(0,v.round)(t.length/a);(0,v.forEach)(t,(function(t,r){var a=M(Number(t),r,5);if(0===r||0===r%o){var i={label:new Date(t).toLocaleString("en-US",{day:"numeric",month:"short"}),coordinate:a};n.includes(i)||n.push(i)}e.push(a)}))}return{coordinatesX:e,labelsX:n,maxDataX:r}}(n),o=a.coordinatesX,i=a.labelsX,l=a.maxDataX,c=function(t){var e=(0,v.round)((0,v.max)((0,v.map)(t,(function(t){return(0,v.max)((0,v.map)(t.values,(function(t){return Number(t)})))})))||0),n=(0,v.round)(e/60),r=new Array(n).fill(60);return{labelsY:I([function(t){return(0,v.map)(t,(function(t){return{label:t.toString(),coordinate:Math.abs(e-t)}}))},function(t){return(0,v.reduce)(t,(function(t,n,r){var a=n+(r>0?t[r-1]:0);return(a<e||a<=60)&&t.push(a),t}),[])}])(r),maxDataY:e}}(r),s=c.labelsY,u=c.maxDataY,f=(0,v.map)(r,(function(t){var e=t.values,n=(0,T.Z)(t,L),r=(0,v.map)(e,(function(t,e){return{x:o[e],y:u-Number(t)}}));return B(B({},n),{},{points:(0,m.Z)(r)})})),p=I([R,F]),d=(0,v.map)(f,(function(t){var e=t.points,n=(0,T.Z)(t,U);return B(B({points:p(e),pointsMap:p(e,5)},n),{},{isVisible:!0})}));return{lines:d,maxDataX:l,maxDataY:u,labelsX:i,labelsY:s}}n(4921),n(6964),n(9172);var J=n(9473),q=J.v9,K=n(8697),$=function(t){return t[a]},Q=(0,K.P1)($,(function(t){return t.chartData.result})),tt=(0,K.P1)($,(function(t){return t.chartLine}));function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(){var t=(0,J.I0)(),e=q(Q),n=q(tt),r=(0,Y.useMemo)((function(){return G(e)}),[e]),a=r.lines,o=r.maxDataX,i=r.maxDataY,l=r.labelsX,c=r.labelsY;(0,Y.useEffect)((function(){t(S())}),[]),(0,Y.useEffect)((function(){t(y(a))}),[a]);return{data:n,maxDataX:o,maxDataY:i,labelsX:l,labelsY:c,onChangeHadler:function(e,n){t(Z(nt(nt({},e),{},{isVisible:n})))}}}var at={name:"1dja6gd",styles:"display:flex;column-gap:20px;margin-top:20px"},ot=function(){return{footer:at}},it=function(t){var e=t.data,n=t.onChange,r=ot();return e?(0,_.tZ)("div",{css:r.footer},e.map((function(t){return(0,_.tZ)(V.Jg,{key:t.name,label:t.name,name:t.name,value:t.isVisible||!1,color:t.color,onChange:function(e){return n(t,e.value)}})}))):null},lt=n(2531),ct=n(245),st=n(1120);function ut(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,st.Z)(t);if(e){var a=(0,st.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,ct.Z)(this,n)}}var ft=function(t){(0,lt.Z)(n,t);var e=ut(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this,t)).state={isVisible:r.props.isVisible,fill:"none"},r}return(0,P.Z)(n,[{key:"shouldComponentUpdate",value:function(t,e){return this.state.isVisible!==e.isVisible||this.props.isVisible!==t.isVisible}},{key:"componentDidUpdate",value:function(t){this.props.isVisible!==t.isVisible&&this.setState({isVisible:this.props.isVisible})}},{key:"render",value:function(){return this.state.isVisible?(0,_.tZ)("polyline",{fill:this.state.fill,stroke:this.props.stroke,points:this.props.points}):null}}]),n}(Y.Component),pt=(0,Y.memo)((function(t){var e=t.points,n=t.typeAxis,r=t.labelPaddingX,a=void 0===r?0:r,o=t.labelPaddingY,i=void 0===o?0:o,l=t.labels,c=t.maxDataX,s={line:function(t){return(0,_.iv)({stroke:t.colors.secondary.dark,strokeWidth:.5},"","")},label:function(t){return(0,_.iv)({fontSize:12,fill:t.colors.secondary.dark},"","")}},u=(0,Y.useCallback)((function(t){return"x"===n?i+24:t&&t.coordinate>=12?t.coordinate-12:0}),[n,i]);return(0,_.tZ)("g",null,(0,_.tZ)("polyline",{css:s.line,points:e}),"x"===n&&l.map((function(t,e){return(0,_.tZ)("text",{key:e,x:t.coordinate,y:u(),css:s.label},t.label)})),"y"===n&&l.map((function(t,e){return(0,_.tZ)("g",{key:e},(0,_.tZ)("text",{x:a,y:u(t),css:s.label},t.label),(0,_.tZ)("polyline",{css:s.line,points:"".concat(a,",").concat(t.coordinate," ").concat(c,",").concat(t.coordinate)}))})))}));pt.displayName="ChartAxis";var dt=function(t){var e=t.points,n=t.fill,r=t.stroke,a=t.isVisible,o=void 0===a||a,i=function(t){var e=t.fill,n=t.stroke;return{line:function(t){return(0,_.iv)({fill:e||"none",stroke:n||t.colors.primary.main},"","")}}}({fill:n,stroke:r});return o?(0,_.tZ)("polyline",{css:i.line,points:e}):null},ht=(0,Y.memo)((function(t){var e=t.hasClassComponent,n=t.line;return(0,_.tZ)(Y.Fragment,null,e?(0,_.tZ)(ft,{points:n.points,stroke:n.color,isVisible:n.isVisible}):(0,_.tZ)(dt,{points:n.points,stroke:n.color,isVisible:n.isVisible}))}));ht.displayName="Line";var mt=function(t){var e=t.data,n=t.maxDataX,r=t.maxDataY,a=t.labelsX,o=t.labelsY,i=t.width,l=t.peddingSize,c=void 0===l?0:l,s=(0,Y.useContext)(Dt).hasClassComponent;return e?(0,_.tZ)("svg",{viewBox:"0 0 ".concat(n+c," ").concat(r+c),style:{width:i}},e.map((function(t){return(0,_.tZ)(ht,{key:t.name,hasClassComponent:s,line:t})})),a&&(0,_.tZ)(pt,{typeAxis:"x",labels:a,labelPaddingY:r,points:"".concat(0,",",r," ").concat(n,",").concat(r)}),o&&(0,_.tZ)(pt,{typeAxis:"y",labels:o,points:"".concat(0,",",0," ",0,",",r),maxDataX:n})):null};function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gt,yt=function(t){var e=t.data,n=t.maxDataX,r=t.maxDataY,a=function(t){var e=t.width;return{chartMap:function(t){return(0,_.iv)({width:e,height:"100%",backgroundColor:t.colors.secondary.main},"","")}}}({width:t.width}),o=(0,Y.useMemo)((function(){return r>=5?Math.round(r/5):0}),[r]),i=(0,Y.useMemo)((function(){return function(t){return t.map((function(t){return bt(bt({},t),{},{points:t.pointsMap})}))}(e)}),[e]);return i?(0,_.tZ)("div",{css:a.chartMap,"data-testid":"telegramChartMap"},(0,_.tZ)(mt,{data:i,maxDataX:n,maxDataY:o})):null},Zt=function(t){var e=t.width,n=N({width:e}),r=rt(),a=r.data,o=r.maxDataX,i=r.maxDataY,l=r.labelsX,c=r.labelsY,s=r.onChangeHadler;return a?(0,_.tZ)("div",{css:n.chart,"data-testid":"telegramChart"},(0,_.tZ)(mt,{data:a,maxDataX:o,maxDataY:i,labelsX:l,labelsY:c,peddingSize:30}),(0,_.tZ)(yt,{data:a,maxDataX:o,maxDataY:i,width:e}),(0,_.tZ)(it,{data:a,onChange:s})):null},xt=n(7326);function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,st.Z)(t);if(e){var a=(0,st.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,ct.Z)(this,n)}}!function(t){t.setAll="SET_CHARTS",t.updateOne="UPDATE_CHART"}(gt||(gt={}));var kt=function(t){(0,lt.Z)(n,t);var e=wt(n);function n(t){var a;(0,k.Z)(this,n),a=e.call(this,t),(0,r.Z)((0,xt.Z)(a),"dispatch",(function(t){var e=t.action,n=t.payload,r=function(t,e){var n=e.type,r=e.payload;switch(n){case gt.setAll:if(Array.isArray(r))return(0,m.Z)(r);break;case gt.updateOne:if(!Array.isArray(r)&&null!==r&&void 0!==r&&r.name){var a=t.filter((function(t){return t.name!==r.name}));return[].concat((0,m.Z)(a),[r]).sort((function(t,e){return(t.name||"")>(e.name||"")?1:-1}))}}return t}(a.state.data,{type:e,payload:n.lines});a.setState(Ct({data:r},n))})),(0,r.Z)((0,xt.Z)(a),"onChangeHadler",(function(t,e){a.dispatch({action:gt.updateOne,payload:{lines:Ct(Ct({},t),{},{isVisible:e})}})}));var o=t.width;return a.styles=N({width:o}),a.state={data:[],maxDataX:0,maxDataY:0,labelsX:[],labelsY:[],width:o},a.dispatch=a.dispatch.bind((0,xt.Z)(a)),a.onChangeHadler=a.onChangeHadler.bind((0,xt.Z)(a)),a}return(0,P.Z)(n,[{key:"componentDidMount",value:function(){var t=G(j.mockDataChart);this.dispatch({action:gt.setAll,payload:t})}},{key:"componentWillUnmount",value:function(){this.dispatch({action:gt.setAll,payload:{lines:[],labelsX:[],labelsY:[],maxDataX:0,maxDataY:0}})}},{key:"render",value:function(){return(0,_.tZ)("div",{css:this.styles.chart,"data-testid":"telegramChartClass"},(0,_.tZ)(mt,{data:this.state.data,maxDataX:this.state.maxDataX,maxDataY:this.state.maxDataY,labelsX:this.state.labelsX,labelsY:this.state.labelsY,peddingSize:30}),(0,_.tZ)(it,{data:this.state.data,onChange:this.onChangeHadler}))}}]),n}(Y.Component),Pt=n(7685);var jt={name:"skc1ok",styles:"display:grid;justify-items:center;padding-top:20px"},Dt=(0,Y.createContext)({hasClassComponent:!1});function St(){var t=function(t){var e=t.width;return{chartPage:jt,toolbar:(0,_.iv)({width:e,display:"flex",columnGap:10},"","")}}({width:700}),e=function(){var t=(0,Y.useState)(!0),e=(0,Pt.Z)(t,2),n=e[0],r=e[1],a=(0,Y.useState)(!1),o=(0,Pt.Z)(a,2),i=o[0],l=o[1];return{isVisibleChart:n,toggleClassComponent:i,onChangeVisibleHadler:(0,Y.useCallback)((function(t){return r(t.value)}),[r]),onToggleClassComponent:(0,Y.useCallback)((function(t){return l(t.value)}),[l])}}(),n=e.isVisibleChart,r=e.toggleClassComponent,a=e.onChangeVisibleHadler,o=e.onToggleClassComponent;return(0,_.tZ)("div",{css:t.chartPage,"data-testid":"telegramChartPage"},(0,_.tZ)("div",{css:t.toolbar},(0,_.tZ)(V.Jg,{label:"Show/Hide Graph",name:"isVisibleChart",value:n,onChange:a}),(0,_.tZ)(V.Jg,{label:"Use class component",name:"toggleClassComponent",value:r,onChange:o})),(0,_.tZ)(Dt.Provider,{value:{hasClassComponent:r}},n&&(0,_.tZ)("div",null,r?(0,_.tZ)(kt,{width:700}):(0,_.tZ)(Zt,{width:700}))))}function At(){return(0,_.tZ)(St,null)}var Ht=(0,r.Z)({},a,O),Et=[X]},1841:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});n(7294);var r=n(6964),a=n(917);var o=function(t){var e=t.pageProps;return(0,a.tZ)("div",{suppressHydrationWarning:!0},(0,a.tZ)(r.g,e))}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1841)}])}},function(t){t.O(0,[774,662,939,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);